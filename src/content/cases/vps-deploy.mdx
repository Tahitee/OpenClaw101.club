---
title: "VPS éƒ¨ç½²å®žæˆ˜ï¼šDocker æ­å»º 24 å°æ—¶åœ¨çº¿åŠ©æ‰‹"
description: "OpenClaw VPS éƒ¨ç½²æ•™ç¨‹ï¼šæ‰‹æŠŠæ‰‹åœ¨äº‘æœåŠ¡å™¨ä¸Šç”¨ Docker éƒ¨ç½² OpenClawï¼Œæ‰“é€  7Ã—24 å°æ—¶åœ¨çº¿çš„ AI åŠ©æ‰‹ï¼Œå«æœåŠ¡å™¨é€‰è´­å»ºè®®ã€‚"
---

# VPS éƒ¨ç½²å®žæˆ˜ï¼šDocker æ­å»º 24 å°æ—¶åœ¨çº¿åŠ©æ‰‹

æœ¬æ–‡æ‰‹æŠŠæ‰‹å¸¦ä½ åœ¨ä¸€å° VPS ä¸Šç”¨ Docker éƒ¨ç½² OpenClawï¼Œè®©ä½ çš„ AI åŠ©æ‰‹å…¨å¤©å€™åœ¨çº¿ï¼Œéšæ—¶é€šè¿‡ WhatsAppã€Telegram ç­‰æ¸ é“ä¸Žä½ å¯¹è¯ã€‚

## æœåŠ¡å™¨é€‰è´­å»ºè®®

OpenClaw æœ¬èº«æ˜¯è½»é‡çº§ç½‘å…³ï¼Œä¸è¿è¡Œæ¨¡åž‹æŽ¨ç†ï¼Œæ‰€ä»¥å¯¹ç¡¬ä»¶è¦æ±‚ä¸é«˜ã€‚ä»¥ä¸‹æ˜¯æŽ¨èé…ç½®ï¼š

| é…ç½®é¡¹ | æœ€ä½Žè¦æ±‚ | æŽ¨èé…ç½® |
|--------|---------|---------|
| CPU | 1 vCPU | 2 vCPU |
| å†…å­˜ | 1 GB | 2 GB |
| ç¡¬ç›˜ | 10 GB SSD | 20 GB SSD |
| å¸¦å®½ | 1 TB/æœˆ | ä¸é™æµé‡ |
| ç³»ç»Ÿ | Ubuntu 22.04+ | Ubuntu 24.04 LTS |

**çƒ­é—¨ VPS ä¾›åº”å•†æŽ¨èï¼š**

- **Hetzner**ï¼ˆæŽ¨èï¼‰ï¼šCX22 å¥—é¤çº¦ â‚¬4.15/æœˆï¼Œ2 vCPU + 4GB RAMï¼Œæ€§ä»·æ¯”æžé«˜ï¼Œæ¬§æ´²æœºæˆ¿å»¶è¿Ÿç¨³å®š
- **DigitalOcean**ï¼š$6/æœˆèµ·ï¼Œé€‚åˆåŒ—ç¾Žç”¨æˆ·
- **Vultr**ï¼š$6/æœˆèµ·ï¼Œå…¨çƒå¤šæœºæˆ¿
- **Contabo**ï¼šâ‚¬4.99/æœˆèµ·ï¼Œé…ç½®é«˜ä½†ç½‘ç»œä¸€èˆ¬
- **è…¾è®¯äº‘/é˜¿é‡Œäº‘è½»é‡**ï¼šå›½å†…ç”¨æˆ·å¯é€‰ï¼Œä½†éœ€æ³¨æ„æµ·å¤– API è®¿é—®é—®é¢˜

> ðŸ’¡ **æç¤º**ï¼šå¦‚æžœä½ ä¸»è¦ä½¿ç”¨ Anthropic / OpenAI APIï¼Œé€‰æ‹©ç¾Žå›½æˆ–æ¬§æ´²æœºæˆ¿å»¶è¿Ÿæ›´ä½Žã€‚å›½å†…æœºæˆ¿å¯èƒ½éœ€è¦é¢å¤–é…ç½®ä»£ç†ã€‚

## Docker å®‰è£…

SSH è¿žæŽ¥åˆ°ä½ çš„æœåŠ¡å™¨åŽï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… Dockerï¼š

```bash
# æ›´æ–°ç³»ç»ŸåŒ…
sudo apt update && sudo apt upgrade -y

# å®‰è£… Dockerï¼ˆå®˜æ–¹ä¸€é”®è„šæœ¬ï¼‰
curl -fsSL https://get.docker.com | sh

# å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„ï¼ˆå… sudoï¼‰
sudo usermod -aG docker $USER

# é‡æ–°ç™»å½•ä½¿æƒé™ç”Ÿæ•ˆ
exit
# é‡æ–° SSH è¿žæŽ¥

# éªŒè¯å®‰è£…
docker --version
docker compose version
```

ç¡®è®¤ `docker compose` å‘½ä»¤å¯ç”¨ï¼ˆDocker æ–°ç‰ˆæœ¬è‡ªå¸¦ Compose V2 æ’ä»¶ï¼‰ã€‚

## å…‹éš† OpenClaw ä»“åº“

```bash
# åˆ›å»ºå·¥ä½œç›®å½•
mkdir -p /opt/openclaw && cd /opt/openclaw

# å…‹éš†ä»“åº“
git clone https://github.com/anthropics/openclaw.git .
```

ä»“åº“ä¸­åŒ…å«äº† `docker-compose.yml` å’Œç›¸å…³é…ç½®æ¨¡æ¿ã€‚

## docker-compose é…ç½®

OpenClaw æä¾›äº†å¼€ç®±å³ç”¨çš„ Docker Compose é…ç½®ã€‚æŸ¥çœ‹å¹¶æ ¹æ®éœ€è¦è°ƒæ•´ï¼š

```yaml
# docker-compose.yml
version: "3.8"

services:
  openclaw:
    image: ghcr.io/anthropics/openclaw:latest
    container_name: openclaw
    restart: unless-stopped
    ports:
      - "127.0.0.1:4100:4100"   # Gateway APIï¼ˆä»…æœ¬åœ°è®¿é—®ï¼‰
      - "127.0.0.1:4101:4101"   # Web UI
    volumes:
      - ./data:/root/.openclaw          # æŒä¹…åŒ–æ•°æ®
      - /var/run/docker.sock:/var/run/docker.sock  # æ²™ç®±æ”¯æŒ
    env_file:
      - .env
    environment:
      - TZ=Asia/Shanghai              # æ—¶åŒºè®¾ç½®
```

> âš ï¸ **å®‰å…¨æç¤º**ï¼šç«¯å£ç»‘å®šåˆ° `127.0.0.1` è€Œä¸æ˜¯ `0.0.0.0`ï¼Œé¿å…ç›´æŽ¥æš´éœ²åˆ°å…¬ç½‘ã€‚é€šè¿‡ SSH éš§é“æˆ–åå‘ä»£ç†è®¿é—®ã€‚

## çŽ¯å¢ƒå˜é‡è®¾ç½®

åˆ›å»º `.env` æ–‡ä»¶é…ç½®å…³é”®å‚æ•°ï¼š

```bash
# .env æ–‡ä»¶

# === AI æ¨¡åž‹ API ===
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxx
# æˆ–ä½¿ç”¨ OpenAI
# OPENAI_API_KEY=sk-xxxxxxxxxxxxx

# === æ¸ é“é…ç½® ===
# Telegram Bot
TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-xxxxx

# WhatsAppï¼ˆä½¿ç”¨å†…ç½® Baileys æ¡¥æŽ¥ï¼‰
# å¯åŠ¨åŽæ‰«ç é…å¯¹ï¼Œæ— éœ€é¢å¤– token

# Discord
# DISCORD_BOT_TOKEN=xxxxxxxxxxxxx

# === å¯é€‰é…ç½® ===
# é»˜è®¤æ¨¡åž‹
# OPENCLAW_DEFAULT_MODEL=claude-sonnet-4-20250514

# Web æœç´¢
# BRAVE_API_KEY=xxxxxxxxxxxxx

# TTS è¯­éŸ³
# ELEVENLABS_API_KEY=xxxxxxxxxxxxx
```

```bash
# è®¾ç½®æ–‡ä»¶æƒé™ï¼Œä¿æŠ¤ API å¯†é’¥
chmod 600 .env
```

## æŒä¹…åŒ–å­˜å‚¨

Docker å·æ˜ å°„ `./data:/root/.openclaw` ç¡®ä¿ä»¥ä¸‹æ•°æ®åœ¨å®¹å™¨é‡å¯åŽä¿ç•™ï¼š

```
data/
â”œâ”€â”€ workspace/           # Agent å·¥ä½œç©ºé—´
â”‚   â”œâ”€â”€ SOUL.md         # AI äººæ ¼å®šä¹‰
â”‚   â”œâ”€â”€ MEMORY.md       # é•¿æœŸè®°å¿†
â”‚   â”œâ”€â”€ memory/         # æ¯æ—¥è®°å¿†
â”‚   â””â”€â”€ ...
â”œâ”€â”€ config.yaml         # å…¨å±€é…ç½®
â”œâ”€â”€ agents/             # Agent é…ç½®
â”œâ”€â”€ channels/           # æ¸ é“çŠ¶æ€ï¼ˆWhatsApp session ç­‰ï¼‰
â””â”€â”€ skills/             # å·²å®‰è£…çš„ Skill
```

**å¤‡ä»½å»ºè®®ï¼š**

```bash
# å®šæœŸå¤‡ä»½æ•°æ®ç›®å½•
tar czf openclaw-backup-$(date +%Y%m%d).tar.gz ./data

# æˆ–ä½¿ç”¨ cron è‡ªåŠ¨å¤‡ä»½
crontab -e
# æ·»åŠ ï¼šæ¯å¤©å‡Œæ™¨3ç‚¹å¤‡ä»½
# 0 3 * * * cd /opt/openclaw && tar czf /backups/openclaw-$(date +\%Y\%m\%d).tar.gz ./data
```

## å¯åŠ¨ä¸Žç®¡ç†

```bash
# å¯åŠ¨ï¼ˆåŽå°è¿è¡Œï¼‰
docker compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# é‡å¯
docker compose restart

# åœæ­¢
docker compose down

# æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
docker compose pull
docker compose up -d
```

å¯åŠ¨åŽï¼ŒOpenClaw Gateway ä¼šåœ¨ `localhost:4100` è¿è¡Œã€‚

## SSH éš§é“è®¿é—®

ç”±äºŽç«¯å£ä»…ç»‘å®šåˆ°æœ¬åœ°ï¼Œä½ éœ€è¦é€šè¿‡ SSH éš§é“ä»Žæœ¬æœºè®¿é—® Web UIï¼š

```bash
# åœ¨ä½ çš„æœ¬åœ°ç”µè„‘æ‰§è¡Œï¼ˆä¸æ˜¯æœåŠ¡å™¨ä¸Šï¼‰
ssh -L 4101:localhost:4101 -L 4100:localhost:4100 user@your-server-ip

# ç„¶åŽåœ¨æµè§ˆå™¨æ‰“å¼€
# http://localhost:4101
```

**ä½¿ç”¨ VS Code Remote SSHï¼š** å¦‚æžœä½ ç”¨ VS Code çš„ Remote SSH è¿žæŽ¥æœåŠ¡å™¨ï¼Œç«¯å£ä¼šè‡ªåŠ¨è½¬å‘ï¼Œæ›´æ–¹ä¾¿ã€‚

**ä½¿ç”¨åå‘ä»£ç†ï¼ˆè¿›é˜¶ï¼‰ï¼š** å¦‚æžœéœ€è¦å…¬ç½‘è®¿é—®ï¼Œå¯é…ç½® Nginx + Let's Encryptï¼š

```nginx
server {
    listen 443 ssl;
    server_name openclaw.yourdomain.com;

    ssl_certificate /etc/letsencrypt/live/openclaw.yourdomain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/openclaw.yourdomain.com/privkey.pem;

    location / {
        proxy_pass http://127.0.0.1:4101;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
    }
}
```

## æ¸ é“é…ç½®

### Telegram Bot

1. åœ¨ Telegram ä¸­æ‰¾åˆ° [@BotFather](https://t.me/BotFather)ï¼Œå‘é€ `/newbot` åˆ›å»ºæœºå™¨äºº
2. å¤åˆ¶èŽ·å¾—çš„ Token å¡«å…¥ `.env` çš„ `TELEGRAM_BOT_TOKEN`
3. é‡å¯ OpenClawï¼š`docker compose restart`
4. å‘ä½ çš„ Bot å‘é€æ¶ˆæ¯å³å¯å¼€å§‹å¯¹è¯

### WhatsApp é…å¯¹

OpenClaw å†…ç½®äº† WhatsApp Web æ¡¥æŽ¥ï¼ˆåŸºäºŽ Baileysï¼‰ï¼š

1. å¯åŠ¨ OpenClaw åŽï¼ŒæŸ¥çœ‹æ—¥å¿—ä¸­çš„ QR ç ï¼š
   ```bash
   docker compose logs -f | grep -A 20 "QR"
   ```
2. æ‰“å¼€æ‰‹æœº WhatsApp â†’ è®¾ç½® â†’ å…³è”è®¾å¤‡ â†’ æ‰«æäºŒç»´ç 
3. é…å¯¹æˆåŠŸåŽï¼Œsession æ•°æ®ä¼šæŒä¹…åŒ–ï¼Œé‡å¯æ— éœ€é‡æ–°æ‰«ç 

> ðŸ’¡ **æ³¨æ„**ï¼šWhatsApp ä¼šè¯å¯èƒ½åœ¨ 14 å¤©å·¦å³å¤±æ•ˆï¼Œéœ€è¦é‡æ–°æ‰«ç ã€‚å»ºè®®å®šæœŸæ£€æŸ¥è¿žæŽ¥çŠ¶æ€ã€‚

### Discord Bot

1. åœ¨ [Discord Developer Portal](https://discord.com/developers/applications) åˆ›å»º Application
2. è¿›å…¥ Bot é¡µé¢ï¼Œå¤åˆ¶ Token
3. å¼€å¯ Message Content Intent
4. ç”Ÿæˆé‚€è¯·é“¾æŽ¥ï¼Œå°† Bot åŠ å…¥ä½ çš„æœåŠ¡å™¨
5. åœ¨ `.env` ä¸­è®¾ç½® `DISCORD_BOT_TOKEN`

## å¸¸è§é—®é¢˜

### Q: å®¹å™¨å¯åŠ¨åŽç«‹åˆ»é€€å‡ºæ€Žä¹ˆåŠžï¼Ÿ

```bash
# æŸ¥çœ‹é€€å‡ºæ—¥å¿—
docker compose logs --tail 50

# å¸¸è§åŽŸå› ï¼š
# 1. .env æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼ˆä¸è¦æœ‰å¤šä½™ç©ºæ ¼ï¼‰
# 2. API Key æ— æ•ˆ
# 3. ç«¯å£è¢«å ç”¨
```

### Q: WhatsApp æ‰«ç åŽä»æ— æ³•æ”¶å‘æ¶ˆæ¯ï¼Ÿ

- ç¡®è®¤æ‰‹æœº WhatsApp ç‰ˆæœ¬æ˜¯æœ€æ–°çš„
- æ£€æŸ¥æœåŠ¡å™¨èƒ½å¦è®¿é—® WhatsApp çš„ WebSocket æœåŠ¡å™¨
- æŸ¥çœ‹æ—¥å¿—ä¸­æ˜¯å¦æœ‰è¿žæŽ¥é”™è¯¯

### Q: å¦‚ä½•è®¾ç½® AI äººæ ¼ï¼Ÿ

ç¼–è¾‘ `data/workspace/SOUL.md` æ–‡ä»¶ï¼š

```bash
cat > data/workspace/SOUL.md << 'EOF'
# ä½ çš„åå­—

ä½ æ˜¯ä¸€ä¸ªå‹å–„ã€ä¸“ä¸šçš„ AI åŠ©æ‰‹ã€‚

## æ€§æ ¼ç‰¹ç‚¹
- æ¸©æš–äº²åˆ‡ï¼Œå¶å°”å¹½é»˜
- å›žç­”ç®€æ´ä½†æœ‰æ·±åº¦
- ä¸»åŠ¨æä¾›æœ‰ä»·å€¼çš„ä¿¡æ¯

## æŠ€èƒ½
- ä¸­è‹±åŒè¯­æµåˆ©
- ç†Ÿæ‚‰æŠ€æœ¯é¢†åŸŸ
EOF
```

### Q: å¦‚ä½•ç›‘æŽ§ OpenClaw è¿è¡ŒçŠ¶æ€ï¼Ÿ

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker compose ps

# æŸ¥çœ‹èµ„æºä½¿ç”¨
docker stats openclaw

# ç®€å•çš„å¥åº·æ£€æŸ¥è„šæœ¬
curl -s http://localhost:4100/health || echo "OpenClaw is down!"
```

### Q: å¦‚ä½•å‡çº§ OpenClawï¼Ÿ

```bash
cd /opt/openclaw
docker compose pull          # æ‹‰å–æœ€æ–°é•œåƒ
docker compose up -d         # é‡å»ºå®¹å™¨
docker image prune -f        # æ¸…ç†æ—§é•œåƒ
```

æ•°æ®ç›®å½•æŒ‚è½½åœ¨å®¿ä¸»æœºä¸Šï¼Œå‡çº§ä¸ä¼šä¸¢å¤±é…ç½®å’Œè®°å¿†ã€‚

---

> ðŸ’¬ **æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Ÿ** æ¬¢è¿Žåœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚
