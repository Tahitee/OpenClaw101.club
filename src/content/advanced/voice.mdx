# è¯­éŸ³äº¤äº’

OpenClaw ä¸åªæ˜¯ä¸€ä¸ªæ–‡å­—èŠå¤©åŠ©æ‰‹â€”â€”å®ƒæ”¯æŒå®Œæ•´çš„è¯­éŸ³äº¤äº’ä½“éªŒï¼ŒåŒ…æ‹¬è¯­éŸ³å”¤é†’ã€è¿žç»­è¯­éŸ³å¯¹è¯å’Œé«˜è´¨é‡è¯­éŸ³åˆæˆã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é…ç½®å’Œä½¿ç”¨ OpenClaw çš„è¯­éŸ³åŠŸèƒ½ã€‚

## Voice Wakeï¼ˆå”¤é†’è¯é…ç½®ï¼‰

Voice Wake å…è®¸ä½ é€šè¿‡è¯­éŸ³å”¤é†’è¯æ¿€æ´» AIï¼Œå°±åƒå¯¹ Siri è¯´"Hey Siri"æˆ–å¯¹ Alexa è¯´"Alexa"ä¸€æ ·ã€‚

### å·¥ä½œåŽŸç†

```
çŽ¯å¢ƒéŸ³é¢‘æµï¼ˆæŒç»­ç›‘å¬ï¼‰
    â†“
æœ¬åœ°å”¤é†’è¯æ£€æµ‹å¼•æ“Ž
    â†“ æ£€æµ‹åˆ°å”¤é†’è¯
å¼€å§‹å½•éŸ³
    â†“ ç”¨æˆ·è¯´å®Œè¯
è¯­éŸ³è½¬æ–‡å­—ï¼ˆSTTï¼‰
    â†“
AI å¤„ç†å¹¶å›žå¤
    â†“
æ–‡å­—è½¬è¯­éŸ³ï¼ˆTTSï¼‰æ’­æ”¾å›žå¤
```

### é…ç½®å”¤é†’è¯

```yaml
# openclaw.yaml
voice:
  wake:
    # å¯ç”¨è¯­éŸ³å”¤é†’
    enabled: true
    
    # å”¤é†’è¯ï¼ˆæ”¯æŒå¤šä¸ªï¼‰
    keywords:
      - "hey claw"
      - "ok claw"
      - "ä½ å¥½åŠ©æ‰‹"
    
    # å”¤é†’çµæ•åº¦ï¼ˆ0.0-1.0ï¼Œè¶Šé«˜è¶Šçµæ•ä½†è¯¯è§¦çŽ‡ä¹Ÿè¶Šé«˜ï¼‰
    sensitivity: 0.5
    
    # å”¤é†’åŽçš„å½•éŸ³æœ€å¤§æ—¶é•¿ï¼ˆç§’ï¼‰
    maxRecordingSeconds: 30
    
    # é™éŸ³æ£€æµ‹ï¼ˆç”¨æˆ·åœæ­¢è¯´è¯åŽè‡ªåŠ¨ç»“æŸå½•éŸ³ï¼‰
    silenceDetection:
      enabled: true
      # é™éŸ³å¤šä¹…åŽç»“æŸï¼ˆæ¯«ç§’ï¼‰
      thresholdMs: 1500
```

### å”¤é†’åé¦ˆ

```yaml
voice:
  wake:
    # å”¤é†’æˆåŠŸåŽçš„åé¦ˆ
    feedback:
      # æ’­æ”¾æç¤ºéŸ³
      sound: "~/.openclaw/sounds/wake.wav"
      # æˆ–ä½¿ç”¨ TTS å›žå¤
      ttsPrompt: "æˆ‘åœ¨å¬"
```

## Talk Modeï¼ˆè¿žç»­è¯­éŸ³å¯¹è¯ï¼‰

Talk Mode æ˜¯æ›´æ²‰æµ¸çš„è¯­éŸ³äº¤äº’æ¨¡å¼â€”â€”è¿›å…¥åŽæ— éœ€æ¯æ¬¡è¯´å”¤é†’è¯ï¼ŒæŒç»­ä¿æŒè¯­éŸ³å¯¹è¯çŠ¶æ€ã€‚

### è¿›å…¥å’Œé€€å‡º Talk Mode

```
# é€šè¿‡å”¤é†’è¯è¿›å…¥
"Hey Claw, è¿›å…¥å¯¹è¯æ¨¡å¼"

# é€šè¿‡å‘½ä»¤è¿›å…¥
/talk

# é€€å‡º Talk Mode
"é€€å‡ºå¯¹è¯æ¨¡å¼"
"å†è§"
/talk off
```

### Talk Mode é…ç½®

```yaml
# openclaw.yaml
voice:
  talk:
    # å¯ç”¨ Talk Mode
    enabled: true
    
    # è‡ªåŠ¨é€€å‡ºè®¾ç½®
    autoExit:
      # é™é»˜å¤šä¹…åŽè‡ªåŠ¨é€€å‡ºï¼ˆç§’ï¼‰
      silenceTimeoutSeconds: 120
      # æœ€å¤§è¿žç»­å¯¹è¯æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
      maxDurationMinutes: 30
    
    # Talk Mode ä¸­çš„ TTS è®¾ç½®
    tts:
      # ä½¿ç”¨çš„ TTS æœåŠ¡
      provider: "elevenlabs"
      
      # ElevenLabs è¯­éŸ³ ID
      voiceId: "21m00Tcm4TlvDq8ikWAM"
      
      # è¯­éŸ³æ¨¡åž‹
      modelId: "eleven_multilingual_v2"
      
      # è¯­éŸ³å‚æ•°
      stability: 0.5
      similarityBoost: 0.8
      style: 0.0
      useSpeakerBoost: true
    
    # è¯­éŸ³è½¬æ–‡å­—è®¾ç½®
    stt:
      # STT æä¾›å•†
      provider: "whisper"
      # è¯­è¨€ï¼ˆç•™ç©ºåˆ™è‡ªåŠ¨æ£€æµ‹ï¼‰
      language: "zh"
      # æ¨¡åž‹å¤§å°
      model: "whisper-1"
```

### Talk Mode è¡Œä¸ºå®šåˆ¶

```yaml
voice:
  talk:
    # å¯¹è¯é—´çš„åœé¡¿å¤„ç†
    pauseHandling:
      # çŸ­æš‚åœé¡¿è§†ä¸ºæ€è€ƒä¸­ï¼ˆä¸ä¸­æ–­ï¼‰
      shortPauseMs: 800
      # é•¿åœé¡¿è§†ä¸ºè¯´å®Œäº†
      longPauseMs: 2000
    
    # æ˜¯å¦å…è®¸æ‰“æ–­ AI çš„å›žå¤
    interruptible: true
    
    # AI å›žå¤å‰çš„è¿‡æ¸¡æç¤ºéŸ³
    transitionSound: "~/.openclaw/sounds/thinking.wav"
```

## ElevenLabs TTS é…ç½®

ElevenLabs æ˜¯ç›®å‰æœ€ä¼˜ç§€çš„ AI è¯­éŸ³åˆæˆæœåŠ¡ä¹‹ä¸€ï¼ŒOpenClaw åŽŸç”Ÿæ”¯æŒä¸Žå…¶é›†æˆã€‚

### åŸºæœ¬é…ç½®

```yaml
# openclaw.yaml
voice:
  tts:
    provider: "elevenlabs"
    
    # API Keyï¼ˆæŽ¨èä½¿ç”¨çŽ¯å¢ƒå˜é‡ï¼‰
    apiKey: "${ELEVENLABS_API_KEY}"
```

```bash
# è®¾ç½® API Key
export ELEVENLABS_API_KEY="your-elevenlabs-api-key"
```

### è¯­éŸ³é€‰æ‹©

ElevenLabs æä¾›äº†å¤šç§é¢„è®¾è¯­éŸ³å’Œè‡ªå®šä¹‰è¯­éŸ³å…‹éš†ï¼š

```yaml
voice:
  tts:
    provider: "elevenlabs"
    
    # é¢„è®¾è¯­éŸ³ ID ç¤ºä¾‹
    # Rachel (å¥³å£°, ç¾Žå¼è‹±è¯­): 21m00Tcm4TlvDq8ikWAM
    # Adam (ç”·å£°, ç¾Žå¼è‹±è¯­): pNInz6obpgDQGcFmaJgB
    # Bella (å¥³å£°, æ¸©æŸ”): EXAVITQu4vr4xnSDxMaL
    # Antoni (ç”·å£°, æ²‰ç¨³): ErXwobaYiN019PkySvjV
    voiceId: "21m00Tcm4TlvDq8ikWAM"
```

### æ¨¡åž‹é€‰æ‹©

```yaml
voice:
  tts:
    # å¤šè¯­è¨€æ¨¡åž‹ v2ï¼ˆæŽ¨èä¸­æ–‡ä½¿ç”¨ï¼‰
    modelId: "eleven_multilingual_v2"
    
    # å…¶ä»–å¯é€‰æ¨¡åž‹ï¼š
    # eleven_monolingual_v1  â€” è‹±è¯­ä¸“ç”¨ï¼Œé€Ÿåº¦æœ€å¿«
    # eleven_multilingual_v1 â€” å¤šè¯­è¨€ v1
    # eleven_multilingual_v2 â€” å¤šè¯­è¨€ v2ï¼ˆè´¨é‡æœ€å¥½ï¼ŒæŽ¨èï¼‰
    # eleven_turbo_v2        â€” ä½Žå»¶è¿Ÿæ¨¡å¼
    # eleven_turbo_v2_5      â€” ä½Žå»¶è¿Ÿå¢žå¼ºç‰ˆ
```

### è¯­éŸ³å‚æ•°å¾®è°ƒ

```yaml
voice:
  tts:
    provider: "elevenlabs"
    voiceId: "21m00Tcm4TlvDq8ikWAM"
    modelId: "eleven_multilingual_v2"
    
    # ç¨³å®šæ€§ï¼ˆ0.0-1.0ï¼‰
    # ä½Žå€¼ = æ›´æœ‰è¡¨çŽ°åŠ›ä½†ä¸ç¨³å®š
    # é«˜å€¼ = æ›´ç¨³å®šä½†å¯èƒ½å•è°ƒ
    stability: 0.5
    
    # ç›¸ä¼¼åº¦å¢žå¼ºï¼ˆ0.0-1.0ï¼‰
    # é«˜å€¼ = æ›´æŽ¥è¿‘åŽŸå§‹è¯­éŸ³
    similarityBoost: 0.8
    
    # é£Žæ ¼ï¼ˆ0.0-1.0, ä»… v2 æ¨¡åž‹ï¼‰
    # é«˜å€¼ = æ›´æœ‰æ„Ÿæƒ…å’Œé£Žæ ¼
    style: 0.0
    
    # è¯´è¯äººå¢žå¼º
    useSpeakerBoost: true
    
    # è¾“å‡ºæ ¼å¼
    outputFormat: "mp3_44100_128"
    # å¯é€‰ï¼šmp3_44100_64, mp3_44100_128, mp3_44100_192,
    #        pcm_16000, pcm_22050, pcm_24000, pcm_44100
```

### å¤‡ç”¨ TTS æä¾›å•†

å¦‚æžœä¸ä½¿ç”¨ ElevenLabsï¼ŒOpenClaw ä¹Ÿæ”¯æŒå…¶ä»– TTS æ–¹æ¡ˆï¼š

```yaml
# macOS å†…ç½® TTS
voice:
  tts:
    provider: "system"
    # macOS ç³»ç»Ÿè¯­éŸ³
    systemVoice: "Ting-Ting"  # ä¸­æ–‡è¯­éŸ³

# OpenAI TTS
voice:
  tts:
    provider: "openai"
    apiKey: "${OPENAI_API_KEY}"
    voice: "nova"  # alloy, echo, fable, onyx, nova, shimmer
    model: "tts-1"  # tts-1 æˆ– tts-1-hd
```

## å¹³å°æ”¯æŒ

OpenClaw çš„è¯­éŸ³åŠŸèƒ½åœ¨ä¸åŒå¹³å°ä¸Šçš„æ”¯æŒç¨‹åº¦ä¸åŒã€‚

### macOS

macOS æ˜¯è¯­éŸ³åŠŸèƒ½æ”¯æŒæœ€å®Œå–„çš„å¹³å°ï¼š

```yaml
# macOS å®Œæ•´è¯­éŸ³é…ç½®
voice:
  wake:
    enabled: true
    keywords: ["hey claw"]
    sensitivity: 0.5
  
  talk:
    enabled: true
    tts:
      provider: "elevenlabs"
      voiceId: "21m00Tcm4TlvDq8ikWAM"
      modelId: "eleven_multilingual_v2"
    stt:
      provider: "whisper"
      language: "zh"
  
  # macOS ç‰¹æœ‰è®¾ç½®
  macos:
    # ä½¿ç”¨ç³»ç»Ÿéº¦å…‹é£Ž
    inputDevice: "default"
    # ä½¿ç”¨ç³»ç»Ÿæ‰¬å£°å™¨
    outputDevice: "default"
    # èœå•æ å›¾æ ‡
    menuBarIcon: true
```

æ”¯æŒçš„åŠŸèƒ½ï¼š
- Voice Wakeï¼ˆå”¤é†’è¯æ£€æµ‹ï¼‰
- Talk Modeï¼ˆè¿žç»­å¯¹è¯ï¼‰
- ç³»ç»Ÿé€šçŸ¥é›†æˆ
- èœå•æ å¿«æ·æ“ä½œ
- ç³»ç»ŸéŸ³é¢‘è¾“å…¥/è¾“å‡º

### iOS

iOS ä¸Šé€šè¿‡ OpenClaw ç§»åŠ¨ç«¯ App æ”¯æŒè¯­éŸ³ï¼š

```yaml
voice:
  # iOS è®¾ç½®
  ios:
    # Siri å¿«æ·æŒ‡ä»¤é›†æˆ
    siriShortcuts: true
    # åŽå°è¯­éŸ³æ£€æµ‹
    backgroundListening: false  # iOS é™åˆ¶ï¼Œä»…å‰å°å¯ç”¨
    # è§¦è§‰åé¦ˆ
    hapticFeedback: true
```

iOS æ”¯æŒçš„åŠŸèƒ½ï¼š
- Talk Modeï¼ˆApp å†…ï¼‰
- Siri å¿«æ·æŒ‡ä»¤è§¦å‘
- è¯­éŸ³æ¶ˆæ¯å‘é€
- æŽ¨é€é€šçŸ¥è¯­éŸ³æ’­æŠ¥

### Android

Android ä¸Šé€šè¿‡é…å¥— App æ”¯æŒï¼š

```yaml
voice:
  # Android è®¾ç½®
  android:
    # ä½¿ç”¨ Android è¯­éŸ³æœåŠ¡
    useSystemStt: false  # false = ä½¿ç”¨ Whisper
    # é€šçŸ¥æ¸ é“è¯­éŸ³æ’­æŠ¥
    notificationTts: true
    # åŽå°ç›‘å¬ï¼ˆéœ€è¦æƒé™ï¼‰
    backgroundListening: true
```

Android æ”¯æŒçš„åŠŸèƒ½ï¼š
- Talk Modeï¼ˆApp å†…å’ŒåŽå°ï¼‰
- é€šçŸ¥è¯­éŸ³æ’­æŠ¥
- è¯­éŸ³æ¶ˆæ¯è¯†åˆ«
- Widget å¿«æ·æ“ä½œ

## å®Œæ•´é…ç½®ç¤ºä¾‹

### ä¸ªäººè¯­éŸ³åŠ©æ‰‹é…ç½®

```yaml
# openclaw.yaml â€” å®Œæ•´è¯­éŸ³äº¤äº’é…ç½®

voice:
  # è¯­éŸ³å”¤é†’
  wake:
    enabled: true
    keywords:
      - "hey claw"
      - "ä½ å¥½åŠ©æ‰‹"
    sensitivity: 0.5
    maxRecordingSeconds: 30
    silenceDetection:
      enabled: true
      thresholdMs: 1500
    feedback:
      ttsPrompt: "æˆ‘åœ¨"

  # Talk Mode
  talk:
    enabled: true
    autoExit:
      silenceTimeoutSeconds: 120
      maxDurationMinutes: 30
    interruptible: true

    # TTS é…ç½®
    tts:
      provider: "elevenlabs"
      voiceId: "21m00Tcm4TlvDq8ikWAM"
      modelId: "eleven_multilingual_v2"
      stability: 0.5
      similarityBoost: 0.8
      style: 0.0
      useSpeakerBoost: true
      outputFormat: "mp3_44100_128"

    # STT é…ç½®
    stt:
      provider: "whisper"
      language: "zh"
      model: "whisper-1"
```

### ä»… TTS è¾“å‡ºé…ç½®ï¼ˆä¸éœ€è¦è¯­éŸ³è¾“å…¥ï¼‰

```yaml
# åªä½¿ç”¨è¯­éŸ³è¾“å‡ºï¼Œä¸ç›‘å¬è¯­éŸ³è¾“å…¥
voice:
  wake:
    enabled: false
  talk:
    enabled: false
  tts:
    provider: "elevenlabs"
    voiceId: "21m00Tcm4TlvDq8ikWAM"
    modelId: "eleven_multilingual_v2"
    # åœ¨è¿™äº›é€šé“ä¸­è‡ªåŠ¨ä½¿ç”¨ TTS
    autoChannels:
      - "telegram"   # Telegram è¯­éŸ³æ¶ˆæ¯
      - "discord"    # Discord è¯­éŸ³é¢‘é“
```

## è°ƒè¯•è¯­éŸ³åŠŸèƒ½

å¦‚æžœè¯­éŸ³åŠŸèƒ½ä¸æ­£å¸¸ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æŽ’æŸ¥ï¼š

```bash
# æµ‹è¯• TTS æ˜¯å¦æ­£å¸¸å·¥ä½œ
openclaw voice test-tts "ä½ å¥½ï¼Œè¿™æ˜¯ä¸€æ¡æµ‹è¯•æ¶ˆæ¯"

# æµ‹è¯• STT æ˜¯å¦æ­£å¸¸å·¥ä½œ
openclaw voice test-stt  # å½•åˆ¶ä¸€æ®µéŸ³é¢‘å¹¶è½¬æ–‡å­—

# æµ‹è¯•å”¤é†’è¯æ£€æµ‹
openclaw voice test-wake  # è¿›å…¥å”¤é†’è¯æµ‹è¯•æ¨¡å¼

# æŸ¥çœ‹éŸ³é¢‘è®¾å¤‡åˆ—è¡¨
openclaw voice devices

# æŸ¥çœ‹è¯­éŸ³ç›¸å…³æ—¥å¿—
openclaw logs | grep -i voice
```

### å¸¸è§é—®é¢˜

1. **å”¤é†’è¯ä¸å“åº”**ï¼šæ£€æŸ¥éº¦å…‹é£Žæƒé™ï¼Œé™ä½Ž `sensitivity` å€¼
2. **TTS æ— å£°éŸ³**ï¼šç¡®è®¤ `ELEVENLABS_API_KEY` æ˜¯å¦æ­£ç¡®ï¼Œæ£€æŸ¥è¾“å‡ºè®¾å¤‡
3. **STT è¯†åˆ«ä¸å‡†ç¡®**ï¼šæ˜Žç¡®æŒ‡å®š `language: "zh"` è€Œéžè‡ªåŠ¨æ£€æµ‹
4. **å»¶è¿Ÿè¿‡é«˜**ï¼šå°è¯•ä½¿ç”¨ `eleven_turbo_v2_5` æ¨¡åž‹ï¼Œæˆ–åˆ‡æ¢åˆ°æœ¬åœ° TTS

è¯­éŸ³äº¤äº’è®© AI åŠ©æ‰‹ä»Žå±å¹•èµ°è¿›äº†çœŸå®žç”Ÿæ´»ã€‚é…åˆ Voice Wake å’Œ Talk Modeï¼Œä½ å¯ä»¥åœ¨åšé¥­ã€å¼€è½¦æˆ–è¿åŠ¨æ—¶ä¸Ž AI è‡ªç„¶å¯¹è¯ï¼Œä½“éªŒçœŸæ­£çš„æ™ºèƒ½åŠ©æ‰‹ã€‚

---
> ðŸ’¬ **æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Ÿ** æ¬¢è¿Žåœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚
