---
title: æ¥å…¥ WhatsApp / Telegram / Discord
description: "OpenClaw æ¥å…¥ WhatsAppã€Telegramã€Discord çš„å®Œæ•´æ•™ç¨‹ï¼ŒåŒ…æ‹¬æ‰«ç é…å¯¹ã€Bot Token é…ç½®å’Œé¢‘é“æƒé™è®¾ç½®ã€‚"
---

# æ¥å…¥ WhatsApp / Telegram / Discord

OpenClaw åŸç”Ÿæ”¯æŒä¸‰å¤§å›½é™…ä¸»æµé€šè®¯å¹³å°ï¼š**WhatsApp**ã€**Telegram** å’Œ **Discord**ã€‚è¿™ä¸‰ä¸ªæ¸ é“éƒ½æ˜¯ OpenClaw å†…ç½®çš„ï¼Œä¸éœ€è¦é¢å¤–å®‰è£…æ’ä»¶ã€‚æœ¬ç¯‡å°†åˆ†åˆ«ä»‹ç»æ¯ä¸ªå¹³å°çš„æ¥å…¥æ–¹å¼ã€é…ç½®æ–¹æ³•å’Œæ³¨æ„äº‹é¡¹ã€‚

---

## ä¸€ã€WhatsApp æ¥å…¥

WhatsApp æ˜¯å…¨çƒç”¨æˆ·é‡æœ€å¤§çš„å³æ—¶é€šè®¯åº”ç”¨ã€‚OpenClaw é€šè¿‡ **Baileys**ï¼ˆWhatsApp Web åè®®çš„å¼€æºå®ç°ï¼‰æ¥æ¥å…¥ WhatsAppï¼Œéœ€è¦é€šè¿‡æ‰‹æœºæ‰«ç é…å¯¹å»ºç«‹è¿æ¥ã€‚

### 1.1 å‡†å¤‡å·¥ä½œ

ä½ éœ€è¦ä¸€ä¸ªå¯ç”¨çš„æ‰‹æœºå·ç æ¥æ³¨å†Œ WhatsAppã€‚**å¼ºçƒˆå»ºè®®ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„æ‰‹æœºå·**ï¼Œè€Œä¸æ˜¯ä½ çš„ä¸ªäººå·ç ã€‚åŸå› å¦‚ä¸‹ï¼š

- ç‹¬ç«‹å·ç å¯ä»¥è®©è·¯ç”±æ›´æ¸…æ™°ï¼Œé¿å…ä¸ªäººæ¶ˆæ¯å’Œ AI å›å¤æ··æ·†
- å‡å°‘è¯¯è§¦å‘çš„é£é™©
- å¦‚æœå‡ºç°é—®é¢˜ï¼Œä¸ä¼šå½±å“ä½ çš„ä¸ªäºº WhatsApp

**å·ç è·å–å»ºè®®ï¼š**
- ä½¿ç”¨å½“åœ°è¿è¥å•†çš„ eSIM æˆ–é¢„ä»˜è´¹ SIM å¡
- å·ç åªéœ€æ¥æ”¶ä¸€æ¬¡éªŒè¯çŸ­ä¿¡ï¼Œä¹‹å WhatsApp Web ä¼šè¯é€šè¿‡ `creds.json` ä¿æŒ
- **é¿å…ä½¿ç”¨** TextNowã€Google Voice ç­‰è™šæ‹Ÿå·ç ï¼ŒWhatsApp ä¼šå°é”è¿™äº›å·ç 

### 1.2 QR æ‰«ç é…å¯¹

é…ç½®å®Œæˆåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œ QR æ‰«ç é…å¯¹ï¼š

```bash
# é»˜è®¤è´¦å·ç™»å½•
openclaw channels login

# æŒ‡å®šè´¦å·ç™»å½•ï¼ˆå¤šè´¦å·åœºæ™¯ï¼‰
openclaw channels login --account work
```

ç»ˆç«¯ä¼šæ˜¾ç¤ºä¸€ä¸ª QR ç ï¼Œç”¨ä½ çš„ WhatsApp æ‰‹æœºç«¯æ‰«æå³å¯å®Œæˆé…å¯¹ã€‚æ“ä½œè·¯å¾„ï¼š**WhatsApp â†’ è®¾ç½® â†’ å·²å…³è”çš„è®¾å¤‡ â†’ å…³è”è®¾å¤‡**ã€‚

ç™»å½•å‡­è¯ä¼šä¿å­˜åœ¨ `~/.openclaw/credentials/whatsapp/<accountId>/creds.json`ï¼Œä¸‹æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨ä½¿ç”¨ã€‚

### 1.3 é…ç½®ç¤ºä¾‹

**æœ€ç®€é…ç½®ï¼ˆæ¨èæ–°æ‰‹ä½¿ç”¨ï¼‰ï¼š**

```json
{
  "channels": {
    "whatsapp": {
      "dmPolicy": "allowlist",
      "allowFrom": ["+8613800138000"]
    }
  }
}
```

**å®Œæ•´é…ç½®ç¤ºä¾‹ï¼š**

```json
{
  "channels": {
    "whatsapp": {
      "dmPolicy": "allowlist",
      "allowFrom": ["+8613800138000", "+8613900139000"],
      "groupPolicy": "allowlist",
      "groups": {
        "*": {
          "requireMention": true
        }
      },
      "sendReadReceipts": true,
      "ackReaction": {
        "emoji": "ğŸ‘€",
        "direct": true,
        "group": "mentions"
      },
      "textChunkLimit": 4000,
      "mediaMaxMb": 50
    }
  }
}
```

### 1.4 DM ç­–ç•¥ï¼ˆdmPolicyï¼‰

WhatsApp çš„ DM ç­–ç•¥æœ‰ä»¥ä¸‹å‡ ç§æ¨¡å¼ï¼š

| ç­–ç•¥ | è¯´æ˜ |
|------|------|
| `pairing` | **é»˜è®¤å€¼**ã€‚æœªçŸ¥å‘é€è€…ä¼šæ”¶åˆ°ä¸€ä¸ªé…å¯¹ç ï¼Œä½ éœ€è¦æ‰‹åŠ¨æ‰¹å‡† |
| `allowlist` | åªæœ‰ `allowFrom` åˆ—è¡¨ä¸­çš„å·ç æ‰èƒ½ä¸ AI å¯¹è¯ |
| `open` | å¯¹æ‰€æœ‰äººå¼€æ”¾ï¼ˆéœ€è¦ `allowFrom: ["*"]`ï¼‰ |
| `disabled` | å…³é—­æ‰€æœ‰ DM |

æ‰¹å‡†é…å¯¹ç çš„å‘½ä»¤ï¼š

```bash
openclaw pairing approve whatsapp <code>
```

### 1.5 ç¾¤èŠæ”¯æŒ

WhatsApp ç¾¤ç»„é»˜è®¤éœ€è¦ @mention æ‰ä¼šè§¦å‘ AI å›å¤ã€‚å¯ä»¥é€šè¿‡ `/activation always` å‘½ä»¤åˆ‡æ¢ä¸ºå§‹ç»ˆå›å¤æ¨¡å¼ï¼ˆä»…ç¾¤ä¸»å¯æ“ä½œï¼‰ã€‚

ç¾¤ç»„ä¼šè¯éš”ç¦»åœ¨ç‹¬ç«‹çš„ session ä¸­ï¼š`agent:<agentId>:whatsapp:group:<jid>`ã€‚

### 1.6 å¤šè´¦å·æ”¯æŒ

OpenClaw æ”¯æŒåœ¨åŒä¸€ä¸ª Gateway ä¸­è¿è¡Œå¤šä¸ª WhatsApp è´¦å·ï¼š

```json
{
  "channels": {
    "whatsapp": {
      "accounts": {
        "personal": {
          "allowFrom": ["+8613800138000"],
          "sendReadReceipts": false
        },
        "work": {
          "allowFrom": ["+8613900139000"],
          "ackReaction": {
            "emoji": "âœ…"
          }
        }
      }
    }
  }
}
```

æ¯ä¸ªè´¦å·éœ€è¦å•ç‹¬æ‰§è¡Œ `openclaw channels login --account <id>` è¿›è¡Œæ‰«ç é…å¯¹ã€‚

---

## äºŒã€Telegram æ¥å…¥

Telegram æ˜¯æœ€å®¹æ˜“æ¥å…¥çš„å¹³å°ä¹‹ä¸€ã€‚OpenClaw ä½¿ç”¨ **grammY** æ¡†æ¶ï¼ˆTypeScript å®ç°çš„ Telegram Bot API å®¢æˆ·ç«¯ï¼‰æ¥è¿æ¥ Telegram Botã€‚

### 2.1 åˆ›å»º Telegram Bot

1. åœ¨ Telegram ä¸­æœç´¢ **@BotFather** å¹¶å¼€å§‹å¯¹è¯
2. å‘é€ `/newbot` å‘½ä»¤
3. æŒ‰æç¤ºè¾“å…¥ Bot åç§°ï¼ˆæ˜¾ç¤ºåï¼‰å’Œç”¨æˆ·åï¼ˆå¿…é¡»ä»¥ `bot` ç»“å°¾ï¼Œå¦‚ `my_openclaw_bot`ï¼‰
4. BotFather ä¼šè¿”å›ä¸€ä¸ª **Bot Token**ï¼Œæ ¼å¼ç±»ä¼¼ï¼š`123456789:ABCdefGHIjklMNOpqrsTUVwxyz`
5. å¦¥å–„ä¿ç®¡è¿™ä¸ª Tokenï¼Œå®ƒå°±æ˜¯ä½  Bot çš„"å¯†ç "

**é¢å¤–è®¾ç½®ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼š**
- å‘é€ `/setprivacy` â†’ é€‰æ‹©ä½ çš„ Bot â†’ è®¾ä¸º `Disable`ï¼Œè¿™æ · Bot èƒ½çœ‹åˆ°ç¾¤ç»„ä¸­çš„æ‰€æœ‰æ¶ˆæ¯ï¼ˆè€Œä¸ä»…ä»…æ˜¯ @mention å’Œå‘½ä»¤ï¼‰
- å‘é€ `/setdescription` ä¸ºä½ çš„ Bot æ·»åŠ æè¿°

### 2.2 é…ç½®ç¤ºä¾‹

**æœ€ç®€é…ç½®ï¼š**

```json
{
  "channels": {
    "telegram": {
      "botToken": "123456789:ABCdefGHIjklMNOpqrsTUVwxyz"
    }
  }
}
```

**å®Œæ•´é…ç½®ç¤ºä¾‹ï¼š**

```json
{
  "channels": {
    "telegram": {
      "botToken": "123456789:ABCdefGHIjklMNOpqrsTUVwxyz",
      "dmPolicy": "pairing",
      "allowFrom": ["your_telegram_username"],
      "groupPolicy": "allowlist",
      "groupAllowFrom": ["*"],
      "groups": {
        "*": {
          "requireMention": true
        }
      },
      "linkPreview": false,
      "mediaMaxMb": 50
    }
  }
}
```

ä½ ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½® Tokenï¼ˆé…ç½®æ–‡ä»¶ä¼˜å…ˆçº§æ›´é«˜ï¼‰ï¼š

```bash
export TELEGRAM_BOT_TOKEN="123456789:ABCdefGHIjklMNOpqrsTUVwxyz"
```

### 2.3 DM ç­–ç•¥ä¸ allowFrom

Telegram çš„ DM ç­–ç•¥ä¸ WhatsApp ç±»ä¼¼ï¼Œæ”¯æŒ `pairing`ã€`allowlist`ã€`open`ã€`disabled` å››ç§æ¨¡å¼ã€‚

`allowFrom` ä½¿ç”¨ Telegram **ç”¨æˆ·å**ï¼ˆä¸æ˜¯æ•°å­— IDï¼‰ï¼š

```json
{
  "channels": {
    "telegram": {
      "dmPolicy": "allowlist",
      "allowFrom": ["alice", "bob"]
    }
  }
}
```

### 2.4 ç¾¤ç»„æ”¯æŒ

Telegram ç¾¤ç»„ä¸­ï¼ŒBot é»˜è®¤éœ€è¦è¢« @mention æ‰ä¼šå“åº”ã€‚ç¾¤ç»„ä¼šè¯éš”ç¦»åœ¨ï¼š`agent:<agentId>:telegram:group:<chatId>`ã€‚

ç¾¤ç»„é…ç½®é€‰é¡¹ï¼š
- `groupPolicy`ï¼š`open`ã€`allowlist`ï¼ˆé»˜è®¤ï¼‰ã€`disabled`
- `groupAllowFrom`ï¼šç¾¤ç»„å‘é€è€…ç™½åå•
- `groups`ï¼šæŒ‰ç¾¤ç»„ ID é…ç½®ç‰¹å®šè§„åˆ™

### 2.5 Webhook æ¨¡å¼ï¼ˆå¯é€‰ï¼‰

é»˜è®¤æƒ…å†µä¸‹ï¼ŒOpenClaw ä½¿ç”¨**é•¿è½®è¯¢ï¼ˆlong-pollï¼‰**æ¨¡å¼æ¥æ”¶ Telegram æ¶ˆæ¯ã€‚å¦‚æœä½ çš„æœåŠ¡å™¨æœ‰å…¬ç½‘åœ°å€ï¼Œå¯ä»¥åˆ‡æ¢ä¸º Webhook æ¨¡å¼ä»¥è·å¾—æ›´ä½å»¶è¿Ÿï¼š

```json
{
  "channels": {
    "telegram": {
      "botToken": "...",
      "webhookUrl": "https://your-domain.com/telegram/webhook",
      "webhookSecret": "your-random-secret-string"
    }
  }
}
```

### 2.6 ä»£ç†è®¾ç½®

å¦‚æœä½ çš„ç½‘ç»œç¯å¢ƒæ— æ³•ç›´æ¥è®¿é—® Telegram APIï¼Œå¯ä»¥é…ç½®ä»£ç†ï¼š

```json
{
  "channels": {
    "telegram": {
      "botToken": "...",
      "proxy": "http://127.0.0.1:7890"
    }
  }
}
```

---

## ä¸‰ã€Discord æ¥å…¥

Discord æ˜¯å…¨çƒæœ€å—æ¬¢è¿çš„ç¤¾ç¾¤é€šè®¯å¹³å°ä¹‹ä¸€ã€‚OpenClaw é€šè¿‡ Discord Bot API + Gateway å®ç°æ¥å…¥ï¼Œæ”¯æŒæœåŠ¡å™¨é¢‘é“ã€DM å’Œç¾¤ç»„ DMã€‚

### 3.1 åˆ›å»º Discord Bot

1. å‰å¾€ [Discord Developer Portal](https://discord.com/developers/applications)
2. ç‚¹å‡» **New Application**ï¼Œè¾“å…¥åº”ç”¨åç§°
3. åœ¨å·¦ä¾§èœå•ä¸­è¿›å…¥ **Bot** é¡µé¢
4. ç‚¹å‡» **Reset Token** è·å– Bot Tokenï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å¦¥å–„ä¿å­˜ï¼‰
5. **é‡è¦ï¼š** å¼€å¯ä»¥ä¸‹ Intentsï¼š
   - âœ… **Message Content Intent**ï¼ˆå¿…é¡»ï¼Œå¦åˆ™æ— æ³•è¯»å–æ¶ˆæ¯å†…å®¹ï¼‰
   - âœ… **Server Members Intent**ï¼ˆæ¨èï¼Œç”¨äº allowlist å’Œç”¨æˆ·åæŸ¥æ‰¾ï¼‰
6. è¿›å…¥ **OAuth2 â†’ URL Generator**ï¼š
   - Scopes é€‰æ‹© `bot`
   - Bot Permissions è‡³å°‘é€‰æ‹©ï¼š`Send Messages`ã€`Read Message History`ã€`View Channels`
   - å¤åˆ¶ç”Ÿæˆçš„é‚€è¯·é“¾æ¥ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œé€‰æ‹©ä½ çš„æœåŠ¡å™¨å®Œæˆé‚€è¯·

### 3.2 é…ç½®ç¤ºä¾‹

**æœ€ç®€é…ç½®ï¼š**

```json
{
  "channels": {
    "discord": {
      "enabled": true,
      "token": "YOUR_DISCORD_BOT_TOKEN"
    }
  }
}
```

ä½ ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ï¼š

```bash
export DISCORD_BOT_TOKEN="YOUR_DISCORD_BOT_TOKEN"
```

**å®Œæ•´é…ç½®ç¤ºä¾‹ï¼š**

```json
{
  "channels": {
    "discord": {
      "enabled": true,
      "token": "YOUR_DISCORD_BOT_TOKEN",
      "dm": {
        "policy": "pairing",
        "allowFrom": ["your_discord_user_id"],
        "groupEnabled": false
      },
      "guilds": {
        "123456789012345678": {
          "channels": {
            "general": {
              "requireMention": true
            },
            "ai-chat": {
              "requireMention": false
            }
          }
        }
      },
      "historyLimit": 20
    }
  }
}
```

### 3.3 DM æ”¯æŒ

Discord DM é»˜è®¤ä½¿ç”¨ **pairing** ç­–ç•¥ã€‚DM æ¶ˆæ¯ä¼šåˆå¹¶åˆ° agent çš„ä¸»ä¼šè¯ï¼ˆ`agent:main:main`ï¼‰ä¸­ã€‚

DM ç­–ç•¥é€‰é¡¹ï¼š
- `pairing`ï¼ˆé»˜è®¤ï¼‰ï¼šæœªçŸ¥ç”¨æˆ·æ”¶åˆ°é…å¯¹ç ï¼Œéœ€æ‰‹åŠ¨æ‰¹å‡†
- `allowlist`ï¼šåªå…è®¸ `allowFrom` ä¸­çš„ç”¨æˆ· ID
- `open`ï¼šå¯¹æ‰€æœ‰äººå¼€æ”¾ï¼ˆéœ€ `allowFrom: ["*"]`ï¼‰
- `disabled`ï¼šå…³é—­ DM

æ‰¹å‡†é…å¯¹ç ï¼š

```bash
openclaw pairing approve discord <code>
```

### 3.4 æœåŠ¡å™¨ï¼ˆGuildï¼‰é¢‘é“æ”¯æŒ

æ¯ä¸ªæœåŠ¡å™¨é¢‘é“ä¼šæ˜ å°„åˆ°ç‹¬ç«‹çš„ä¼šè¯ï¼š`agent:<agentId>:discord:channel:<channelId>`ã€‚

é»˜è®¤è¡Œä¸ºæ˜¯éœ€è¦ @mention Bot æ‰ä¼šè§¦å‘å›å¤ã€‚ä½ å¯ä»¥é’ˆå¯¹ç‰¹å®šé¢‘é“è®¾ç½® `requireMention: false` è®© Bot å“åº”æ‰€æœ‰æ¶ˆæ¯ã€‚

### 3.5 æ–œæ å‘½ä»¤

OpenClaw é»˜è®¤ä¼šè‡ªåŠ¨æ³¨å†Œ Discord æ–œæ å‘½ä»¤ï¼ˆ`commands.native` é»˜è®¤ä¸º `"auto"`ï¼‰ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ `/` è§¦å‘å„ç§å‘½ä»¤ã€‚å¦‚æœä¸éœ€è¦ï¼Œå¯ä»¥åœ¨é…ç½®ä¸­å…³é—­ï¼š

```json
{
  "channels": {
    "discord": {
      "commands": {
        "native": false
      }
    }
  }
}
```

### 3.6 Reactions è¡¨æƒ…å›å¤

OpenClaw çš„ agent å¯ä»¥åœ¨ Discord ä¸­å‘é€è¡¨æƒ… reactionsã€‚é€šè¿‡ `discord` å·¥å…·å®ç°ï¼Œéœ€è¦å½“å‰æ¸ é“ä¸º Discord æ—¶æ‰å¯ç”¨ã€‚

---

## é€šç”¨æ³¨æ„äº‹é¡¹

1. **å®‰å…¨ç¬¬ä¸€**ï¼šä¸‰ä¸ªå¹³å°çš„ DM éƒ½é»˜è®¤å¯ç”¨ `pairing` ç­–ç•¥ï¼Œé˜²æ­¢é™Œç”Ÿäººæœªç»æˆæƒä½¿ç”¨ä½ çš„ AI åŠ©æ‰‹
2. **é…ç½®æ–‡ä»¶ä½ç½®**ï¼šæ‰€æœ‰é…ç½®éƒ½åœ¨ `~/.openclaw/openclaw.json` çš„ `channels` å­—æ®µä¸­
3. **å¯åŠ¨ Gateway**ï¼šé…ç½®å®Œæˆåï¼Œè¿è¡Œ `openclaw gateway start` æˆ– `openclaw gateway restart` ä½¿é…ç½®ç”Ÿæ•ˆ
4. **å¤šæ¸ é“å¹¶è¡Œ**ï¼šWhatsAppã€Telegramã€Discord å¯ä»¥åŒæ—¶è¿è¡Œï¼ŒOpenClaw ä¼šè‡ªåŠ¨æŒ‰èŠå¤©æ¥æºè·¯ç”±æ¶ˆæ¯
5. **ç¾¤èŠä¸Šä¸‹æ–‡**ï¼šç¾¤èŠä¸­ OpenClaw ä¼šæ³¨å…¥æœ€è¿‘çš„å†å²æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œé€šè¿‡ `historyLimit` æ§åˆ¶æ•°é‡

---

> ğŸ’¬ **æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Ÿ** æ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚
